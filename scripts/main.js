"use strict";var Main={};Main={init:function(e){switch(e){case"home":Main.initVideo(),Main.initTestimonials();break;case"contact":Main.initForm(),Main.initMap()}},common:function(){!function(e,t,a,i,n,o,s){e.GoogleAnalyticsObject=n,e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},e[n].l=1*new Date,o=t.createElement(a),s=t.getElementsByTagName(a)[0],o.async=1,o.src="//www.google-analytics.com/analytics.js",s.parentNode.insertBefore(o,s)}(window,document,"script",0,"ga"),ga("create","UA-584603-6","auto"),ga("send","pageview"),$.easing.jswing=$.easing.swing,$.extend($.easing,{def:"easeOutQuad",easeInOutExpo:function(e,t,a,i,n){return 0==t?a:t==n?a+i:(t/=n/2)<1?i/2*Math.pow(2,10*(t-1))+a:i/2*(2-Math.pow(2,-10*--t))+a}}),$("*[data-autoscroll]").click(function(){var e=$(this.hash);if(e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length)return $("html,body").animate({scrollTop:e.offset().top},1500,"easeInOutExpo"),!1}),$(".menu-trigger").on("click",function(e){e.preventDefault(),$("#main-content").addClass("move-out"),$("#menu-mobile").addClass("is-visible"),$(".shadow-layer").addClass("is-visible")}),$(".close-menu").on("click",function(e){e.preventDefault(),$("#main-content").removeClass("move-out"),$("#menu-mobile").removeClass("is-visible"),$(".shadow-layer").removeClass("is-visible")}),$("#menu-mobile a").on("click",function(e){$(".close-menu").click()})},initTestimonials:function(){function e(e){var t=$(e.activeFrame.html).find("header").height()+29;$(".fotorama__nav").css("top",t+"px")}function t(t){var a=$(t.activeFrame.html).height();t.resize({height:a}),e(t)}var a=$(".fotorama").fotorama({autoplay:!1,shadows:!1,width:"100%",arrows:"always",height:$(".testimonial").height(),keyboard:!0,loop:!0,click:!0,preload:3}),i=a.data("fotorama");e(i),$(window).resize(function(){t(i)}),$(".fotorama").on("fotorama:showend ",function(e,a,i){t(a)}),$(".fotorama").on("fotorama:show ",function(t,a,i){e(a)})},initVideo:function(){plyr.setup()[0].source({type:"video",title:"Example title",poster:"../images/video-cover.jpg",sources:[{src:"../images/video.mp4",type:"video/mp4"}]})},initForm:function(){$("[name='phone']").mask("99 9999-9999?9",{placeholder:" "}).focusout(function(e){var t,a,i;t=e.currentTarget?e.currentTarget:e.srcElement,a=t.value.replace(/\D/g,""),i=$(t),i.unmask(),a.length>10?i.mask("99 99999-999?9"):i.mask("99 9999-9999?9")});var e=document.getElementById("deadline");noUiSlider.create(e,{start:[6],connect:[!0,!1],step:1,range:{min:[1],max:[13]}}),e.noUiSlider.on("update",function(e,t){var a="1.00"==e[t]?" Mês":" Meses",i=e[t].replace(".00",a).replace("13 Meses","12+ Meses");$(".deadline label").html(i)});var t=document.getElementById("budget");noUiSlider.create(t,{start:[30,60],connect:!0,step:1,range:{min:[0],"60%":[100,100],"62.5%":[125,125],"65%":[150,150],"67.5%":[175,175],"70%":[200,200],"72.5%":[225,225],"75%":[250,250],"77.5%":[275,275],"80%":[300,300],"82.5%":[325,325],"85%":[350,350],"87.5%":[375,375],"90%":[400,400],"92.5%":[425,425],"95%":[450,450],"97.5%":[475,475],max:[500]}}),t.noUiSlider.on("change",function(e,a){e[a]<30&&t.noUiSlider.set(30)}),t.noUiSlider.on("update",function(e,t){var a=e[0].replace(".00",""),i=e[1].replace(".00",""),n="R$ ";"500"==a?n="Acima de 500K":n+=a+"K a "+i+"K",$(".budget label").html(n)});$("[name=contactForm]").validate({errorPlacement:function(e,t){},rules:{name:"required",email:{required:!0,email:!0},phone:"required","needs[]":"required",features:"required"},submitHandler:function(e,t){var a=[],i={success:{type:"success",title:"Recebemos suas informações!",text:"Em breve entraremos em contato."},error:{type:"error",title:"Não foi possível processar suas informações :(",text:"Por favor, tente novamente."}};$("[name='needs[]']:checked").each(function(e){a[e]=$(this).next().html()}),$.ajax({type:"POST",dataType:"json",url:"https://e5kp5ek8ni.execute-api.us-east-1.amazonaws.com/prod/contato",contentType:"application/json",data:JSON.stringify({name:$("[name=name]").val(),email:$("[name=email]").val(),company:$("[name=company]").val(),phone:$("[name=phone]").val(),phase:$("[name=phase]:checked").next().html(),needs:a.join(", "),features_description:$("[name=features]").val(),deadline:$(".deadline .slider label").html(),budget:$(".budget .slider label").html(),description:$("[name=details]").val()}),success:function(e){e?Main.sweetAlert(i.success):Main.sweetAlert(i.error)},error:function(e,t,a){Main.sweetAlert(i.error)}})}})},sweetAlert:function(e){swal({type:e.type,title:e.title,html:e.text,showCloseButton:!0}).catch(swal.noop)},initMap:function(){var e=new google.maps.Map(document.getElementById("map"),{zoom:16,center:new google.maps.LatLng(-26.3009,-48.8463),zoomControl:!1,disableDoubleClickZoom:!0,mapTypeControl:!1,scaleControl:!1,scrollwheel:!1,panControl:!0,streetViewControl:!1,overviewMapControl:!0,mapTypeId:"roadmap",styles:[{elementType:"labels.text.fill",featureType:"administrative",stylers:[{color:"#444444"}]},{featureType:"landscape",stylers:[{color:"#f2f2f2"}]},{featureType:"landscape.man_made",stylers:[{visibility:"off"}]},{featureType:"poi",stylers:[{visibility:"simplified"}]},{elementType:"labels",featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"poi.attraction",stylers:[{visibility:"off"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"road",stylers:[{saturation:-100},{lightness:45}]},{elementType:"labels.icon",featureType:"road.arterial",stylers:[{visibility:"off"}]},{featureType:"road.highway",stylers:[{visibility:"simplified"}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"water",stylers:[{color:"#46bcec"},{visibility:"on"}]}]});!function(){new google.maps.Marker({position:new google.maps.LatLng(-26.3012,-48.8508),icon:"../images/pin.svg",map:e})}()}},$(document).ready(function(){Main.common()});